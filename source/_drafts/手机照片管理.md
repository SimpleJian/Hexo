title: 手机照片管理
categories:
tags:
---

## 需求
手机里的照片从没好好整理过，每次拍完照之后都很少再看，这样日积月累，手机空间都快不够了。正好最近在折腾hexo博客，于是有了把一些照片发布到博客的想法。要把照片发布到博客，就得考虑以下一些问题：
- 空间问题，照片总共好几个G，如何存储就是个问题，云存储是个不错选择；
- 分类问题，要发布照片，就得分门别类，如何选择分类标准又是个头疼的问题，可按时间分，按地点分，或者按主题分类；
- 隐私问题，手机中各种照片都有，一股脑全发布肯定不行，初步想法是把没有人物的照片先发布，其余的再说。

## 方案及实现

### 七牛云存储

### 照片分类
按时间分类是最容易用脚本实现的，但最适合发布博客的应该是按主题分类，考虑到同一主题的照片在拍摄时间上一般是连续的，所以最终决定初步按时间分类，在发布时根据需要按时间查找相应照片。下面是按时间分类的脚本实现：
{% code lang:bash %}
#! /bin/bash                                                                
   
# usage: ./photos_organize src_dir dst_dir
src_dir=$1
dst_dir=$2
for filename in `ls -l $src_dir | grep '^-' | egrep -io '\w+\.(bmp|jpg|png|>
do
  new_dir=`exiv2 $src_dir/$filename | egrep -o '[0-9]{4}:[0-9]{2}:[0-9]{2}'>
  mkdir -p $dst_dir/$new_dir
  cp $src_dir/$filename $dst_dir/$new_dir
done
{% endcode %}

### 隐私问题
